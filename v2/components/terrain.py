from core.geometry import TerrainPlaneGeometry
from core.material import SolidMaterial
from core.mesh import Mesh

class Terrain():
	def __init__(self, renderer):
		self.renderer = renderer
		# setup mesh
		self.on_init()

	def on_init(self):
		self.geometry = TerrainPlaneGeometry(
			position = (0.5, 0, 0.5),
			height_map = [
				[0.36988851, 0.44955245, 0.33191112, 0.50334184, 0.44200993, 0.48797677, 0.66224326, 0.63351752, 0.48683194, 0.32843864, 0.36988851, 0.44955245, 0.33191112, 0.50334184, 0.44200993, 0.48797677, 0.66224326, 0.63351752, 0.48683194, 0.32843864],
				[0.54993226, 0.46756551, 0.40090243, 0.53484341, 0.46435218, 0.44018607, 0.69589761, 0.55357644, 0.32126471, 0.53170435, 0.54993226, 0.46756551, 0.40090243, 0.53484341, 0.46435218, 0.44018607, 0.69589761, 0.55357644, 0.32126471, 0.53170435],
				[0.62153699, 0.43772127, 0.37896753, 0.6070773,  0.4410918,  0.43703662, 0.69599099, 0.53061155, 0.41567474, 0.47433133, 0.62153699, 0.43772127, 0.37896753, 0.6070773,  0.4410918,  0.43703662, 0.69599099, 0.53061155, 0.41567474, 0.47433133],
				[0.66323609, 0.45641339, 0.48451674, 0.51705157, 0.46187205, 0.50866153, 0.63588386, 0.62933109, 0.56720263, 0.51108062, 0.66323609, 0.45641339, 0.48451674, 0.51705157, 0.46187205, 0.50866153, 0.63588386, 0.62933109, 0.56720263, 0.51108062],
				[0.59637073, 0.48081031, 0.52370607, 0.43685695, 0.46131124, 0.56110413, 0.49498112, 0.48085411, 0.5834961,  0.63682607, 0.59637073, 0.48081031, 0.52370607, 0.43685695, 0.46131124, 0.56110413, 0.49498112, 0.48085411, 0.5834961,  0.63682607],
				[0.54146234, 0.50217427, 0.60519654, 0.50101615, 0.43025706, 0.54476884, 0.4998999,  0.46950771, 0.55975845, 0.6407615 , 0.54146234, 0.50217427, 0.60519654, 0.50101615, 0.43025706, 0.54476884, 0.4998999,  0.46950771, 0.55975845, 0.6407615 ],
				[0.48331368, 0.47852678, 0.49351614, 0.49375524, 0.51076387, 0.50618051, 0.50676387, 0.50223422, 0.51172516, 0.5742926 , 0.48331368, 0.47852678, 0.49351614, 0.49375524, 0.51076387, 0.50618051, 0.50676387, 0.50223422, 0.51172516, 0.5742926 ],
				[0.41746773, 0.40968453, 0.39982071, 0.50245712, 0.5255447,  0.57204614, 0.48170848, 0.46646615, 0.50911891, 0.56548243, 0.41746773, 0.40968453, 0.39982071, 0.50245712, 0.5255447,  0.57204614, 0.48170848, 0.46646615, 0.50911891, 0.56548243],
				[0.36790503, 0.38487982, 0.34085655, 0.41769559, 0.44365056, 0.49759153, 0.52037651, 0.51867144, 0.5796797,  0.57023838, 0.36790503, 0.38487982, 0.34085655, 0.41769559, 0.44365056, 0.49759153, 0.52037651, 0.51867144, 0.5796797,  0.57023838],
				[0.35371702, 0.32922057, 0.30810877, 0.38084877, 0.45519661, 0.55788391, 0.51998018, 0.53410516, 0.60734862, 0.55384487, 0.35371702, 0.32922057, 0.30810877, 0.38084877, 0.45519661, 0.55788391, 0.51998018, 0.53410516, 0.60734862, 0.55384487],
				[0.36988851, 0.44955245, 0.33191112, 0.50334184, 0.44200993, 0.48797677, 0.66224326, 0.63351752, 0.48683194, 0.32843864, 0.36988851, 0.44955245, 0.33191112, 0.50334184, 0.44200993, 0.48797677, 0.66224326, 0.63351752, 0.48683194, 0.32843864],
				[0.54993226, 0.46756551, 0.40090243, 0.53484341, 0.46435218, 0.44018607, 0.69589761, 0.55357644, 0.32126471, 0.53170435, 0.54993226, 0.46756551, 0.40090243, 0.53484341, 0.46435218, 0.44018607, 0.69589761, 0.55357644, 0.32126471, 0.53170435],
				[0.62153699, 0.43772127, 0.37896753, 0.6070773,  0.4410918,  0.43703662, 0.69599099, 0.53061155, 0.41567474, 0.47433133, 0.62153699, 0.43772127, 0.37896753, 0.6070773,  0.4410918,  0.43703662, 0.69599099, 0.53061155, 0.41567474, 0.47433133],
				[0.66323609, 0.45641339, 0.48451674, 0.51705157, 0.46187205, 0.50866153, 0.63588386, 0.62933109, 0.56720263, 0.51108062, 0.66323609, 0.45641339, 0.48451674, 0.51705157, 0.46187205, 0.50866153, 0.63588386, 0.62933109, 0.56720263, 0.51108062],
				[0.59637073, 0.48081031, 0.52370607, 0.43685695, 0.46131124, 0.56110413, 0.49498112, 0.48085411, 0.5834961,  0.63682607, 0.59637073, 0.48081031, 0.52370607, 0.43685695, 0.46131124, 0.56110413, 0.49498112, 0.48085411, 0.5834961,  0.63682607],
				[0.54146234, 0.50217427, 0.60519654, 0.50101615, 0.43025706, 0.54476884, 0.4998999,  0.46950771, 0.55975845, 0.6407615 , 0.54146234, 0.50217427, 0.60519654, 0.50101615, 0.43025706, 0.54476884, 0.4998999,  0.46950771, 0.55975845, 0.6407615 ],
				[0.48331368, 0.47852678, 0.49351614, 0.49375524, 0.51076387, 0.50618051, 0.50676387, 0.50223422, 0.51172516, 0.5742926 , 0.48331368, 0.47852678, 0.49351614, 0.49375524, 0.51076387, 0.50618051, 0.50676387, 0.50223422, 0.51172516, 0.5742926 ],
				[0.41746773, 0.40968453, 0.39982071, 0.50245712, 0.5255447,  0.57204614, 0.48170848, 0.46646615, 0.50911891, 0.56548243, 0.41746773, 0.40968453, 0.39982071, 0.50245712, 0.5255447,  0.57204614, 0.48170848, 0.46646615, 0.50911891, 0.56548243],
				[0.36790503, 0.38487982, 0.34085655, 0.41769559, 0.44365056, 0.49759153, 0.52037651, 0.51867144, 0.5796797,  0.57023838, 0.36790503, 0.38487982, 0.34085655, 0.41769559, 0.44365056, 0.49759153, 0.52037651, 0.51867144, 0.5796797,  0.57023838],
				[0.35371702, 0.32922057, 0.30810877, 0.38084877, 0.45519661, 0.55788391, 0.51998018, 0.53410516, 0.60734862, 0.55384487, 0.35371702, 0.32922057, 0.30810877, 0.38084877, 0.45519661, 0.55788391, 0.51998018, 0.53410516, 0.60734862, 0.55384487],
			],
		)
		self.material = SolidMaterial(color = (0.2, 0.3, 0.2))
		self.mesh = Mesh(
			geometry = self.geometry,
			material = self.material,
			shader_program = self.renderer.shaders['default'],
		)
